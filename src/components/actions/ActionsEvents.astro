---
import ActionsFormCsomponent from "./ActionsForm.astro";
import SwitchE from "@components/switchE.astro";
---

<script src="/src/components/actionsjs/modal.js"></script>
<script src="/src/components/actionsjs/table.js"></script>
<script src="/src/components/actionsjs/init.js"></script>
<div class="container">

  <div class="button-group">
    <button data-form-type="comment" class="primary">Evento Comentario</button>
    <button data-form-type="bits" class="primary">Evento Bits</button>
    <button data-form-type="likes" class="primary">Evento Likes</button>
    <button data-form-type="gift" class="primary">Evento Regalo</button>
    <button id="actionButton" class="primary">Acción</button>
  </div>

  <dlg-cont id="modal-container">
    <dyn-obj-disp id="dynamic-editor" mode="edit" darkmode> </dyn-obj-disp>
  </dlg-cont>
  <dlg-cont id="Action-modal">
    <obj-edit-frm id="Action-editor" mode="edit" darkmode> </obj-edit-frm>
  </dlg-cont>

  <grid-manager-lit id="eventConfigManager" darkmode></grid-manager-lit>
  <grid-manager-lit id="ActionConfigManager" darkmode></grid-manager-lit>
    <dialog-container class="ActionModal" id="ActionModal">    
      <ActionsFormCsomponent id="actionForm">
        <div slot="fields">
          <SwitchE
          id="fetchForm"
          label="Habilitar Configuración HTTP"
          checked={true}>
          <http-request-config id="fetchForm_config"></http-request-config>
          </SwitchE>
        </div>
        <div slot="actions" class="ActionForm-buttons">
          <button type="button" class="btn btn-secondary" data-action="reset">
            Reiniciar
          </button>
          <button type="button" class="btn btn-primary" data-action="submit">
            Guardar
          </button>
        </div>
      </ActionsFormCsomponent>
  </dialog-container>
</div>
<script src="/src/components/actions/actions.js"></script>
<script src="/src/components/actionsjs/actionstable.js"></script>
<script src="/src/components/actionsjs/evalue.js"></script>
<style>
  #modal-container dyn-obj-disp {
    /* Estilo más general */
    min-width: 400px;
    display: block; /* Asegurar que toma espacio */
    background-color: #222; /* Fondo para el contenido del modal */
    border-radius: 8px;
    /* obj-edit-form dentro no necesita borde/padding extra */
  }
  #modal-container dyn-obj-disp obj-edit-frm {
    border: none;
    padding: 0;
    background: transparent;
  }
  .output {
    margin-top: 1rem;
    padding: 1rem;
    background-color: #1a1a1a;
    border: 1px solid #333;
    border-radius: 5px;
    white-space: pre-wrap;
    font-family: monospace;
    min-height: 50px;
  }
  .loading {
    font-style: italic;
    color: #aaa;
  }
</style>
