---
// src/components/widgets/OverlayWidget.astro
import SidebarLayout from '@layouts/WidgetLayout.astro';
import '@components/widgets/overlay/styles.css';
//  @import '/overlay/styles.css'; 

---
<SidebarLayout>
  <div id="overlay-container">
    <div id="media-wrapper">
      <!-- El contenido de imagen o video irá aquí -->
    </div>
    <div id="context-text">
      <!-- El texto irá aquí -->
    </div>
  </div>
</SidebarLayout>

<script>
  import { initOverlaySystem } from '@components/widgets/overlay/overlay-manager.ts';
  // Asegúrate que el DOM esté listo si initOverlaySystem no maneja DOMContentLoaded internamente.
  // En este caso, nuestro initOverlaySystem YA ESPERA a ser llamado DESPUÉS de DOMContentLoaded o lo maneja dentro.
  // Por seguridad, o si initOverlaySystem accediera al DOM inmediatamente:
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initOverlaySystem);
  } else {
    initOverlaySystem();
  }
</script>

<style>
  /* Asumiendo que styles.css está en el mismo directorio 'overlay' que el manager.ts */
</style>